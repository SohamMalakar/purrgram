#!/usr/bin/env purr

def matrix_multiplication(rows1, cols1, matrix1, rows2, cols2, matrix2):
    var i, j, k;

    if cols1 != rows2:
        return;
    end

    var result = [];

    i = 0;
    while i < rows1:
        # append(result, ([0] * cols2));
        result = result + [[0] * cols2];
        i = i + 1;
    end

    i = 0;
    while i < rows1:
        j = 0;
        while j < cols2:
            k = 0;
            while k < cols1:
                result[i][j] = result[i][j] + matrix1[i][k] * matrix2[k][j];
                k = k + 1;
            end
            j = j + 1;
        end   
        i = i + 1;
    end
    return result;
end


var matrix1 = [[1, 2, 3],
               [4, 5, 6],
               [7, 8, 9]];

var matrix2 = [[1, 2, 3],
               [4, 5, 6],
               [7, 8, 9]];

var result = matrix_multiplication(3, 3, matrix1, 3, 3, matrix2);

if result == none:
    print("incompatible matrices");
else:
    print(result);
end
